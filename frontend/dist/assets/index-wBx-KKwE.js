(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const w of a.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&c(w)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();let f=null;function u(t){["view-home","view-game"].forEach(s=>{const c=document.getElementById(s);c&&(c.style.display=s===t?"block":"none")})}var A;(A=document.getElementById("nav-home"))==null||A.addEventListener("click",()=>{u("view-home"),history.pushState(null,"","/home")});var P;(P=document.getElementById("nav-game"))==null||P.addEventListener("click",()=>{u("view-game"),history.pushState(null,"","/game"),m()});window.addEventListener("popstate",()=>{location.pathname==="/game"?u("view-game"):u("view-home")});location.pathname==="/game"?u("view-game"):u("view-home");const l=document.getElementById("gameCanvas"),i=l.getContext("2d"),x=10,y=100,L=5;let r={x:10,y:250,dy:0},d={x:l.width-20,y:250,dy:0},e={x:l.width/2,y:l.height/2,radius:8,dx:4,dy:4},v=0,E=0,I=!0;function S(t){let n=3;I=!0;const s=setInterval(()=>{n>0?f=n.toString():n===0?f="GO!":(f=null,clearInterval(s),t()),n--},1e3)}function m(){e.x=l.width/2,e.y=l.height/2,e.dx=0,e.dy=0,S(()=>{e.dx=Math.random()<.5?4:-4,e.dy=Math.random()<.5?4:-4,I=!1})}function C(){I||(r.y+=r.dy,d.y+=d.dy,r.y=Math.max(0,Math.min(l.height-y,r.y)),d.y=Math.max(0,Math.min(l.height-y,d.y)),e.x+=e.dx,e.y+=e.dy,(e.y<=0||e.y>=l.height)&&(e.dy*=-1),(e.x-e.radius<r.x+x&&e.y>r.y&&e.y<r.y+y||e.x+e.radius>d.x&&e.y>d.y&&e.y<d.y+y)&&(e.dx*=-1),e.x<0?(E++,m()):e.x>l.width&&(v++,m()))}function O(){i.clearRect(0,0,l.width,l.height),i.fillStyle="#000",i.font="24px Arial",i.textAlign="left",i.fillText(`${v}`,l.width/4,30),i.fillText(`${E}`,l.width*3/4,30),i.fillRect(r.x,r.y,x,y),i.fillRect(d.x,d.y,x,y),i.beginPath(),i.arc(e.x,e.y,e.radius,0,Math.PI*2),i.fillStyle="red",i.fill(),f&&(i.fillStyle="#000",i.font="72px Arial",i.textAlign="center",i.textBaseline="middle",i.fillText(f,l.width/2,l.height/2))}function k(){C(),O(),requestAnimationFrame(k)}k();document.addEventListener("keydown",t=>{t.key==="z"&&(r.dy=-5),t.key==="s"&&(r.dy=L),t.key==="ArrowUp"&&(d.dy=-5),t.key==="ArrowDown"&&(d.dy=L)});document.addEventListener("keyup",t=>{["z","s"].includes(t.key)&&(r.dy=0),["ArrowUp","ArrowDown"].includes(t.key)&&(d.dy=0)});let g=[],h=0,p=[];function T(t){g=[];for(let n=0;n<t.length;n+=2)t[n+1]&&g.push({player1:t[n],player2:t[n+1]});h=0,b()}function b(){if(h>=g.length){alert("Tournoi terminÃ© !");return}const t=g[h];alert(`Prochain match : ${t.player1} vs ${t.player2}`),v=0,E=0,r.y=250,d.y=250,h++,m()}var B;(B=document.getElementById("addPlayer"))==null||B.addEventListener("click",()=>{const t=document.getElementById("aliasInput"),n=t.value.trim();if(n&&!p.includes(n)){p.push(n);const s=document.getElementById("playerList"),c=document.createElement("li");c.textContent=n,s.appendChild(c),t.value=""}});var M;(M=document.getElementById("startTournament"))==null||M.addEventListener("click",()=>{p.length>=2?(u("view-game"),T(p)):alert("Ajoutez au moins 2 joueurs.")});
