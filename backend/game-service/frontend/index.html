<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>

	<style>
    @import "tailwindcss";
    :root { --canvas-scale: 0.90; } /* 90% */

    /* cach√© par d√©faut */
/* cach√© par d√©faut */
#mobile-controls { display: none; }

/* visible seulement si l‚Äô√©l√©ment a .active ET que l‚Äôappareil est tactile */
@media (hover: none) and (pointer: coarse) {
  #mobile-controls.active { display: flex; }
}

    #view-game {
  position: relative;
  display: none;            /* tu l‚Äôaffiches quand tu joues */
  min-height: 100dvh;       /* plein √©cran mobile, notch-friendly */
  justify-content: center;
  align-items: center;
  padding: 12px;
  box-sizing: border-box;
  overflow: hidden;
}
/* Le wrapper sert √† contraindre la taille du canvas */
#canvas-wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  max-width: 100vw;
  max-height: 100dvh;
}

/* Canvas responsive : garde le ratio 4:3 et rentre dans l‚Äô√©cran */
#gameCanvas {
  background: #000;
  border: 2px solid red;
  z-index: 20;
  aspect-ratio: 4 / 3;

  /* 90% de l‚Äôespace utile, en respectant 4:3 */
  width: min(calc(100vw * var(--canvas-scale)),
             calc(100dvh * var(--canvas-scale) * 4 / 3));
  height: auto;
  max-height: calc(100dvh * var(--canvas-scale));
}

/* Contr√¥les mobiles flottants au-dessus (inchang√©s) */
#mobile-controls {
/* display: none;*/
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  gap: 10px;
  z-index: 30;
}
#mobile-controls button {
  touch-action: none;
  user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}

/* Pour √©viter qu‚Äôun menu flotte devant par erreur */
.menu-game-config { z-index: 1; position: relative; }


      .perspective {
        perspective: 1000px;
      }
      
      .card-3d {
        transform-style: preserve-3d;
        transition: transform 0.8s ease;
      }
      
      .card-face {
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 1rem;
      }
      
      .backface-hidden {
        backface-visibility: hidden;
      }
      
      .rotate-y-180 {
        transform: rotateY(180deg);
      }
      .metal-effect {
    background: linear-gradient(135deg, #cfcfcf, #8f8f8f);
    background-blend-mode: overlay;
    box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.4),
                inset 0 0 30px rgba(0, 0, 0, 0.2),
                0 4px 20px rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

#gameCanvas {
  position: relative;
  z-index: 20;
}

.menu-game-config {
    background-color: #f8f8f8;
    padding: 30px;
    border-radius: 15px;
    max-width: 400px;
    margin: auto;
    text-align: center;
    color: #000;
    font-family: "Segoe UI", sans-serif;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }

  .select-style {
    width: 70%;
    padding: 8px;
    margin: 10px 0 20px;
    font-size: 16px;
    border-radius: 8px;
    border: 1px solid #ccc;
  }

  .btn-style {
    background-color: #4CAF50;
    color: white;
    font-weight: bold;
    border: none;
    padding: 12px 24px;
    font-size: 16px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  .btn-style:hover {
    background-color: #45a049;
  }

  .config-section {
    margin-top: 20px;
  }
      </style>
       
  <meta charset="UTF-8">
  <title>Pong</title>
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen">
  <nav>
    <div id="nav-user" class="space-x-4 items-center">
      <button id="nav-home" class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400" >Accueil</button>
      <!-- Bouton PONG -->
      <button id="pong" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">PONG</button>
  <span id="nav-displayname" class="font-semibold"></span>
    </div>
  </nav>

  <div id="pong-options" class="hidden flex flex-col items-center justify-center mt-8 space-y-4 space-x-4">
    <button id="pong-local" class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg text-lg w-48">Local</button>
    <button id="pong-online" class="bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg text-lg w-48">En ligne</button>
  </div>

  <div id="local-options" class="hidden flex flex-col items-center justify-center mt-8 space-y-4 space-x-4">
    <button id="nav-game-config" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">üéÆ Match Libre ‚ö°</button>
    <button id="nav-game-tournois" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">üéÆ Tournois</button>
  </div>

  <div id="online-options" class="hidden flex flex-col items-center justify-center mt-8 space-y-4 space-x-4">
    <button id="nav-game-online" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded" >1 vs 1 Online üåç</button>
  </div>    

  
<!-- Bloc de configuration du TOURNOIS -->
<div id="Tournois" class="tournois-config" style="display: none;">
  <h1>PONG TOURNOIS</h1>

  <!-- Choix du nombre de joueurs -->
  <div class="config-section">
    <label for="tournamentSize"><strong>Nombre de joueurs :</strong></label>
    <fieldset id="tournamentSize" class="player-count" style="border: 0; padding: 0; margin: 10px 0;">
      <label class="radio-chip" style="margin-right: 10px;">
        <input type="radio" name="tournamentSize" id="size4" value="4" checked>
        <span>4 joueurs</span>
      </label>
      <label class="radio-chip" style="margin-right: 10px;">
        <input type="radio" name="tournamentSize" id="size8" value="8">
        <span>8 joueurs</span>
      </label>
      <label class="radio-chip">
        <input type="radio" name="tournamentSize" id="size16" value="16">
        <span>16 joueurs</span>
      </label>
    </fieldset>
  </div>

  <!-- Noms des joueurs (5..16 masqu√©s par d√©faut, √† g√©rer en JS selon 4/8/16) -->
  <div id="tournamentPlayers" class="config-section player-list">
    <div class="player-row" data-index="1">
      <label for="playerName1">Joueur 1 :</label>
      <input
        id="playerName1"
        name="playerName1"
        type="text"
        class="input-style"
        placeholder="Joueur 1 (connect√©)"
        value=""
      >
    </div>

    <div class="player-row" data-index="2">
      <label for="playerName2">Joueur 2 :</label>
      <input id="playerName2" name="playerName2" type="text" class="input-style" value="Joueur 2">
    </div>

    <div class="player-row" data-index="3">
      <label for="playerName3">Joueur 3 :</label>
      <input id="playerName3" name="playerName3" type="text" class="input-style" value="Joueur 3">
    </div>

    <div class="player-row" data-index="4">
      <label for="playerName4">Joueur 4 :</label>
      <input id="playerName4" name="playerName4" type="text" class="input-style" value="Joueur 4">
    </div>

    <div class="player-row" data-index="5" style="display: none;">
      <label for="playerName5">Joueur 5 :</label>
      <input id="playerName5" name="playerName5" type="text" class="input-style" value="Joueur 5">
    </div>

    <div class="player-row" data-index="6" style="display: none;">
      <label for="playerName6">Joueur 6 :</label>
      <input id="playerName6" name="playerName6" type="text" class="input-style" value="Joueur 6">
    </div>

    <div class="player-row" data-index="7" style="display: none;">
      <label for="playerName7">Joueur 7 :</label>
      <input id="playerName7" name="playerName7" type="text" class="input-style" value="Joueur 7">
    </div>

    <div class="player-row" data-index="8" style="display: none;">
      <label for="playerName8">Joueur 8 :</label>
      <input id="playerName8" name="playerName8" type="text" class="input-style" value="Joueur 8">
    </div>

    <div class="player-row" data-index="9" style="display: none;">
      <label for="playerName9">Joueur 9 :</label>
      <input id="playerName9" name="playerName9" type="text" class="input-style" value="Joueur 9">
    </div>

    <div class="player-row" data-index="10" style="display: none;">
      <label for="playerName10">Joueur 10 :</label>
      <input id="playerName10" name="playerName10" type="text" class="input-style" value="Joueur 10">
    </div>

    <div class="player-row" data-index="11" style="display: none;">
      <label for="playerName11">Joueur 11 :</label>
      <input id="playerName11" name="playerName11" type="text" class="input-style" value="Joueur 11">
    </div>

    <div class="player-row" data-index="12" style="display: none;">
      <label for="playerName12">Joueur 12 :</label>
      <input id="playerName12" name="playerName12" type="text" class="input-style" value="Joueur 12">
    </div>

    <div class="player-row" data-index="13" style="display: none;">
      <label for="playerName13">Joueur 13 :</label>
      <input id="playerName13" name="playerName13" type="text" class="input-style" value="Joueur 13">
    </div>

    <div class="player-row" data-index="14" style="display: none;">
      <label for="playerName14">Joueur 14 :</label>
      <input id="playerName14" name="playerName14" type="text" class="input-style" value="Joueur 14">
    </div>

    <div class="player-row" data-index="15" style="display: none;">
      <label for="playerName15">Joueur 15 :</label>
      <input id="playerName15" name="playerName15" type="text" class="input-style" value="Joueur 15">
    </div>

    <div class="player-row" data-index="16" style="display: none;">
      <label for="playerName16">Joueur 16 :</label>
      <input id="playerName16" name="playerName16" type="text" class="input-style" value="Joueur 16">
    </div>
  </div>

  <!-- Lancement du tournoi -->
  <div style="margin-top: 20px;">
    <button id="startTournamentBtn" class="btn-style">üöÄ Lancer le tournoi</button>
  </div>
</div>

<div id="menu-game-config" style="display: none;" class="menu-game-config">
  <h1>PONG</h1>

  <label for="modeSelect">üéÆ Mode de jeu :</label>
  <select id="modeSelect" class="select-style">
    <option value="2v2" selected>2 vs 2</option>
    <option value="1v1">1 vs 1</option>
  </select>

  <!-- Configuration 2v2 -->
  <div id="custom-config_2vs2" class="config-section">
    <p>Configurer les paddles <strong>2 vs 2</strong> :</p>
    <label>Paddle 1 :</label>
    <select id="player1" class="select-style">
      <option value="human" selected>Humain</option>
      <option value="cpu">Bot</option>
    </select><br />
    <label>Paddle 2 :</label>
    <select id="player2" class="select-style">
      <option value="human">Humain</option>
      <option value="cpu" selected>Bot</option>
    </select><br />
    <label>Paddle 3 :</label>
    <select id="player3" class="select-style">
      <option value="human">Humain</option>
      <option value="cpu" selected>Bot</option>
    </select><br />
    <label>Paddle 4 :</label>
    <select id="player4" class="select-style">
      <option value="human">Humain</option>
      <option value="cpu" selected>Bot</option>
    </select>
  </div>

  <!-- Configuration 1v1 -->
  <div id="custom-config_1vs1" class="config-section" style="display: none;">
    <p>Configurer les paddles <strong>1 vs 1</strong> :</p>
    <label>Paddle 1 :</label>
    <select id="player1-1v1" class="select-style">
      <option value="human" selected>Humain</option>
      <option value="cpu">Bot</option>
    </select><br />
    <label>Paddle 2 :</label>
    <select id="player2-1v1" class="select-style">
      <option value="human">Humain</option>
      <option value="cpu" selected>Bot</option>
    </select>
  </div>

  <div style="margin-top: 20px;">
    <button id="startBtn" class="btn-style">üöÄ Lancer la partie</button>
  </div>

</div>



  <div id="messageBox"></div>

  <div id="view-home" class="p-8 text-center">
    <h1 class="text-4xl font-bold text-blue-700 mb-2">Bienvenue sur Pong</h1>
    <p class="text-lg">Cliquer sur "Jouer" pour commencer.</p>
  </div>

  <div id="view-game" class="flex justify-center items-center">
    <div id="canvas-wrapper">  
      <canvas id="gameCanvas" width="800" height="600" class="rounded-lg shadow-lg"></canvas>
    </div>

    <div id="mobile-controls">
      <button id="btn-up" class="text-3xl p-4 bg-blue-500 text-white rounded-full shadow">‚¨ÜÔ∏è</button>
      <button id="btn-down" class="text-3xl p-4 bg-blue-500 text-white rounded-full shadow">‚¨áÔ∏è</button>
    </div>
  </div>

  <script type="module" src="/dist/main.js"></script>
</body>
</html>

